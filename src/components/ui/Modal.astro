---
// Explanation: A reusable Modal (dialog) component for displaying content on top of the current page.
// It uses the native HTML <dialog> element and includes a backdrop, close button, and animations.

interface Props {
  id: string;
  title: string;
}

const { id, title } = Astro.props;
---

<dialog
  id={id}
  class="bg-transparent p-0 backdrop:backdrop-blur-sm backdrop:bg-ink-900/20"
>
  <div class="fixed inset-0 flex items-center justify-center p-4">
    <div
      class="bg-white dark:bg-ink-900 rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-200 border border-ink-100 dark:border-ink-700"
    >
      <div
        class="p-6 border-b border-ink-100 dark:border-ink-700 flex justify-between items-center bg-surface-50 dark:bg-ink-800"
      >
        <h3 class="text-lg font-semibold text-ink-900 dark:text-white">
          {title}
        </h3>
        <button
          onclick={`document.getElementById('${id}').close()`}
          class="text-ink-300 dark:text-ink-500 hover:text-ink-700 dark:hover:text-ink-300 p-1 rounded-full hover:bg-ink-100 dark:hover:bg-ink-700 transition-colors"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            ><line x1="18" y1="6" x2="6" y2="18"></line><line
              x1="6"
              y1="6"
              x2="18"
              y2="18"></line></svg
          >
        </button>
      </div>

      <div class="p-6">
        <slot />
      </div>
    </div>
  </div>
</dialog>

<style>
  dialog::backdrop {
    animation: fade-in 0.2s ease-out;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
</style>
